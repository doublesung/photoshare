(function(t){function e(e){for(var i,l,n=e[0],r=e[1],d=e[2],u=0,h=[];u<n.length;u++)l=n[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&h.push(o[l][0]),o[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);c&&c(e);while(h.length)h.shift()();return a.push.apply(a,d||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],i=!0,n=1;n<s.length;n++){var r=s[n];0!==o[r]&&(i=!1)}i&&(a.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},o={app:0},a=[];function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var c=r;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0aee":function(t,e,s){},"0d2b":function(t,e,s){"use strict";s("1f0c")},"1f0c":function(t,e,s){},"267c":function(t,e,s){},"27fc":function(t,e,s){},"3c0a":function(t,e,s){},"3c3d":function(t,e,s){},"474b":function(t,e,s){"use strict";s("776e")},"500a":function(t,e,s){"use strict";s("267c")},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("router-view",{staticClass:"min-vh-100"}),e("Footer")],1)},a=[],l=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light position-fixed w-100 bg-white shadow-sm py-3"},[e("div",{staticClass:"container-fluid px-3 px-lg-5 flex-nowrap"},[e("router-link",{attrs:{to:"/photos"}},[e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"me-sm-2 me-3"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"}},[e("path",{staticStyle:{fill:"#407bff"},attrs:{d:"M30,0H10A10,10,0,0,0,0,10V30A10,10,0,0,0,10,40H30A10,10,0,0,0,40,30V10A10,10,0,0,0,30,0ZM20.03,21.6a7.256,7.256,0,0,1-2.747-.539v-4.2A3.758,3.758,0,1,0,16.236,14.3v14.9A3.8,3.8,0,0,1,12.7,33V14.3a7.3,7.3,0,1,1,7.331,7.3Z"}})])]),e("span",{staticClass:"navbar-brand d-sm-block d-none"},[t._v("Photoshare")])])]),e("form",{staticClass:"search-form flex-grow-1 mx-2 d-flex align-items-center rounded-4 position-relative"},[e("i",{staticClass:"svg-icon px-2 d-flex"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"}})])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control border-0 shadow-none ps-0",attrs:{id:"searchInput",type:"text",placeholder:"搜尋免費相片","aria-label":"Search",autocomplete:"off"},domProps:{value:t.searchValue},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search("input")},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),e("div",{staticClass:"search-form-dropdown w-100 shadow py-3 border-0 rounded-4 position-absolute top-100 bg-white"},[t.searchRecords.length?e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("span",{staticClass:"px-3 my-3"},[t._v("最近搜尋")]),e("i",{staticClass:"svg-icon d-flex align-items-center me-3",attrs:{type:"button"},on:{click:t.deleteSearchRecords}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-11.414L9.172 7.757 7.757 9.172 10.586 12l-2.829 2.828 1.415 1.415L12 13.414l2.828 2.829 1.415-1.415L13.414 12l2.829-2.828-1.415-1.415L12 10.586z"}})])])]):t._e(),e("ul",{staticClass:"nav px-3 mb-4"},t._l(t.searchRecords.slice(0,15).reverse(),(function(s,i){return e("li",{key:i,staticClass:"nav-item mb-2 me-2"},[e("button",{staticClass:"border border-1 text-primary rounded-4",attrs:{type:"button"}},[e("div",{staticClass:"nav-link",on:{click:function(e){return t.search(s.searchRecord)}}},[t._v(" "+t._s(s.searchRecord)+" ")])])])})),0),e("p",{staticClass:"px-3"},[t._v("精選收藏")]),e("ul",{staticClass:"nav px-3"},t._l(t.featuredCollections,(function(s,i){return e("li",{key:i,staticClass:"collection-item nav-item overflow-hidden rounded-4 mb-3 me-3"},[e("router-link",{attrs:{to:{path:"/collections/"+s.id}}},[e("button",{staticClass:"border border-0 p-0"},[e("div",{staticClass:"nav-link rounded-4 d-flex flex-column"},[e("span",[t._v(t._s(s.title))]),e("span",{staticClass:"fw-normal"},[t._v(t._s(s.media_count)+"張相片和影片")])])])])],1)})),0)])]),e("router-link",{staticClass:"flex-shrink-0",attrs:{to:"/collections"}},[e("div",{staticClass:"nav"},[e("div",{staticClass:"nav-item"},[e("span",{staticClass:"nav-link pe-0"},[t._v("我的收藏")])])])])],1)])},n=[],r=s("2f62"),d=s("bc3a"),c=s.n(d);function u(t="",e={},s="GET"){return new Promise((i,o)=>{let a;if("GET"===s){let s="";Object.keys(e).forEach(t=>{s+=t+"="+e[t]+"&"}),""!==s&&(s=s.substring(0,s.lastIndexOf("&")),t=t+"?"+s),a=c.a.get(t)}"POST"===s&&(a=c.a.post(t,e)),"PUT"===s&&(a=c.a.put(t,e)),"PATCH"===s&&(a=c.a.patch(t,e)),"DELETE"===s&&(a=c.a.delete(t)),a.then(t=>{i(t.data)}).catch(t=>{o(t)})})}const h="https://my-json-server.typicode.com/doublesung/photoshare",m=()=>u(h+"/collections"),p=t=>u(h+"/collections/"+t),v=t=>u(h+"/photoCovers/"+t),g=t=>u(h+"/videoCovers/"+t),C=t=>u(h+"/collections/"+t,"","DELETE"),f=(t,e)=>u(h+"/collections/"+t,{media:e},"PATCH"),b=t=>u(h+"/collections",t,"POST"),w=(t,e,s)=>u(h+"/collections/"+t,{title:e,description:s},"PATCH"),x=()=>u(h+"/serchRecords"),y=t=>u(h+"/serchRecords",t,"POST"),_=t=>u(h+"/serchRecords/"+t,"","DELETE");var M={name:"Navbar",computed:{...Object(r["b"])(["searchRecords","featuredCollections"])},data(){return{searchValue:null}},methods:{search(t){let e=document.getElementById("searchInput");"input"!==t&&(this.searchValue=t),this.findSearchRecord(),e.blur(),this.$store.dispatch("getSearchRecords"),this.$store.dispatch("setTotalResult",""),this.$router.push({path:"/search/"+this.searchValue})},deleteSearchRecords(){let t=this.searchRecords.map(t=>t.id);t.forEach(t=>{_(t)}),this.$store.dispatch("getSearchRecords")},findSearchRecord(){let t=this.searchValue;function e(e){return e.searchRecord===t}let s=this.searchRecords.find(e);s||y({id:"",searchRecord:this.searchValue})},setCollection(t){this.$store.dispatch("setColletion",t),console.log(t)}},mounted(){this.$store.dispatch("getSearchRecords"),this.$store.dispatch("getFeaturedCollections",{page:1,per_page:8})}},E=M,z=(s("c855"),s("2877")),S=Object(z["a"])(E,l,n,!1,null,"d94437a4",null),k=S.exports,O=function(){var t=this;t._self._c;return t._m(0)},L=[function(){var t=this,e=t._self._c;return e("footer",{staticClass:"d-flex justify-content-center align-items-center px-3 px-lg-5 fw-light",staticStyle:{height:"100px"}},[e("span",{staticClass:"me-4"},[t._v("© 2022 Photoshare")]),e("span",[t._v("本網頁僅供學習使用")])])}],j={name:"Footer"},R=j,V=Object(z["a"])(R,O,L,!1,null,null,null),I=V.exports,T={name:"App",components:{Navbar:k,Footer:I}},P=T,H=(s("b34a"),Object(z["a"])(P,o,a,!1,null,null,null)),A=H.exports,B=s("8c4f"),$=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"position-relative"},[e("div",{staticClass:"header-image",style:{backgroundImage:`url(${t.photoCover.url})`}}),t._m(0),e("div",{staticClass:"position-absolute bottom-0 end-0 px-3 px-lg-5"},[e("p",{staticClass:"text-white opacity-75"},[e("span",[t._v("攝影師:")]),e("span",{staticClass:"ms-2"},[t._v(t._s(t.photoCover.photographer))])])])]),e("main",{staticClass:"px-3 px-lg-5"},[e("ul",{staticClass:"nav d-flex justify-content-center align-items-center my-4 my-lg-5"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/photos"}},[e("button",{staticClass:"btn btn-secondary text-white border-0 shadow-none rounded-4 fw-bold fs-4 px-3",attrs:{type:"button"}},[t._v(" 相片 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link fs-4",attrs:{to:"/videos"}},[e("button",{staticClass:"btn border-0 text-primary shadow-none fw-bold fs-4 px-3",attrs:{type:"button"}},[t._v(" 影片 ")])])],1)]),e("p",{staticClass:"mb-4 mb-lg-5 fs-4"},[t._v("免費圖庫相片")]),e("MediaList",{on:{getMedia:t.getMedia}})],1)])},F=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-absolute top-50 start-50 translate-middle d-flex flex-column align-items-center text-white text-nowrap"},[e("h1",[t._v("提供免費的照片及影片")]),e("h2",[t._v("創作者分享的最優質圖庫")])])}],D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-flulid"},[e("div",{staticClass:"grid clearfix mn-xl-3 mn-2",on:{scroll:function(e){return t.loadingItem(e)}}},[e("div",{staticClass:"grid-sizer col-xxl-3 col-lg-4 col-6"}),t._l(t.media,(function(s,i){return e("div",{key:i,staticClass:"grid-item col-xxl-3 col-lg-4 col-6 p-xl-3 p-2"},[s.video_files?s.video_files?e("VideoItem",{attrs:{video:s,downloadMedium:t.downloadMedium},on:{setMedium:t.updateMedium,showCollectionsModal:t.showCollectionsModal}}):t._e():e("PhotoItem",{attrs:{photo:s,downloadMedium:t.downloadMedium},on:{setMedium:t.updateMedium,showCollectionsModal:t.showCollectionsModal}})],1)}))],2),e("Toast",{ref:"toast",attrs:{medium:t.medium}}),t.medium?e("MediaModal",{ref:"modal",attrs:{medium:t.medium,downloadMedium:t.downloadMedium},on:{goClearMedium:t.clearMedium}}):t._e(),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}}),e("div",{staticClass:"position-relative d-flex justify-content-center align-items-center",staticStyle:{height:"100px"}},[t.noMore&&!t.isCollection?e("p",{staticClass:"m-0"},[t._v("沒有更多的照片或影片了!")]):t._e(),t.media.length!==t.totalResult?e("loading",{attrs:{active:t.busy,"z-index":0,"is-full-page":!1,opacity:0},on:{"update:active":function(e){t.busy=e}}},[e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})]):t._e()],1)],1)},N=[],U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-fixed bottom-0 end-0 p-3",staticStyle:{"z-index":"2000"}},[e("div",{staticClass:"toast bg-white border-0",attrs:{id:"liveToast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"3000"}},[t._m(0),e("div",{staticClass:"toast-body"},[t._v(" 感謝 "+t._s(t.getPhotographer())+" 提供的優質照片! ")])])])},q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"toast-header"},[e("strong",{staticClass:"me-auto"},[t._v("下載成功")]),e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"toast","aria-label":"Close"}})])}],Q=s("7b17"),J={name:"Toast",props:{medium:{type:Object}},methods:{showToast(){let t=document.getElementById("liveToast"),e=new Q["c"](t);e.show()},getPhotographer(){const t=this.medium;if(t)return t.video_files?t.user.name:t.photographer}}},G=J,W=Object(z["a"])(G,U,q,!1,null,null,null),X=W.exports,Z=s("84d3"),K=s.n(Z),Y=s("bd7e"),tt=s.n(Y),et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-image position-relative"},[e("img",{staticClass:"image mw-100 rounded-4",attrs:{src:t.photo.src.large,alt:"photo.alt",loading:"lazy"}}),e("div",{staticClass:"overlay rounded-4 bg-dark",attrs:{type:"button"},on:{click:t.setPhoto}}),e("div",{staticClass:"photographer position-absolute bottom-0 start-0 m-3 text-white d-none d-sm-block"},[e("i",{staticClass:"svg-icon-photographer me-2"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zM6.023 15.416C7.491 17.606 9.695 19 12.16 19c2.464 0 4.669-1.393 6.136-3.584A8.968 8.968 0 0 0 12.16 13a8.968 8.968 0 0 0-6.137 2.416zM12 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})])]),e("span",[t._v(t._s(t.photo.photographer))])]),e("button",{staticClass:"collection position-absolute top-0 end-0 m-3 d-flex justify-content-center align-items-center rounded-4 border-0 d-none d-sm-block",attrs:{type:"button"},on:{click:t.showCollectionsModal}},[e("i",{staticClass:"ri-folder-add-line fs-4 fw-normal text-primary"})]),e("button",{staticClass:"download position-absolute bottom-0 end-0 m-3 d-flex justify-content-center align-items-center rounded-4 border-0 d-none d-sm-block",attrs:{type:"button"},on:{click:t.downloadImage}},[e("i",{staticClass:"ri-download-2-line fs-4 fw-normal text-primary"})])])},st=[],it={name:"PhotoItem",props:{photo:{type:Object},downloadMedium:{type:Function}},computed:{...Object(r["b"])(["medium"])},methods:{downloadImage(){let t=this.photo.src.original,e=this.photo.id,s=this.photo.photographer.replace(" ","-"),i="photoshare-"+s+"-"+e+".jpg";this.downloadMedium(t,i)},setPhoto(){this.$emit("setMedium",this.photo)},showCollectionsModal(){this.$emit("showCollectionsModal",this.photo)}}},ot=it,at=(s("474b"),Object(z["a"])(ot,et,st,!1,null,"65eab9fa",null)),lt=at.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-image position-relative",on:{mouseenter:function(e){return t.palyVideo(e)},mouseleave:function(e){return t.pauseVideo(e)}}},[e("div",{staticClass:"position-relative rounded-4 overflow-hidden"},[e("img",{staticClass:"image mw-100",attrs:{src:t.imageUrl,alt:"photo.alt",loading:"lazy"}}),e("video",{staticClass:"w-100 h-auto position-absolute start-0",attrs:{preload:"none",muted:"",loop:""},domProps:{muted:!0}},[e("source",{attrs:{src:t.videoUrl,type:"video/mp4"}})])]),e("div",{staticClass:"overlay rounded-4 bg-dark",attrs:{type:"button"},on:{click:t.setVideo}}),e("i",{staticClass:"svg-icon-video position-absolute top-0 start-0 m-3"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M21.543 6.498C22 8.28 22 12 22 12s0 3.72-.457 5.502c-.254.985-.997 1.76-1.938 2.022C17.896 20 12 20 12 20s-5.893 0-7.605-.476c-.945-.266-1.687-1.04-1.938-2.022C2 15.72 2 12 2 12s0-3.72.457-5.502c.254-.985.997-1.76 1.938-2.022C6.107 4 12 4 12 4s5.896 0 7.605.476c.945.266 1.687 1.04 1.938 2.022zM10 15.5l6-3.5-6-3.5v7z"}})])]),e("div",{staticClass:"photographer position-absolute bottom-0 start-0 m-3 text-white d-none d-sm-block"},[e("i",{staticClass:"svg-icon-photographer me-2"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"40",height:"40"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zM6.023 15.416C7.491 17.606 9.695 19 12.16 19c2.464 0 4.669-1.393 6.136-3.584A8.968 8.968 0 0 0 12.16 13a8.968 8.968 0 0 0-6.137 2.416zM12 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})])]),e("span",[t._v(t._s(t.video.user.name))])]),e("button",{staticClass:"collection position-absolute top-0 end-0 m-3 d-flex justify-content-center align-items-center rounded-4 border-0 d-none d-sm-block",attrs:{type:"button"},on:{click:t.showCollectionsModal}},[e("i",{staticClass:"ri-folder-add-line fs-4 fw-normal text-primary"})]),e("button",{staticClass:"download position-absolute bottom-0 end-0 m-3 d-flex justify-content-center align-items-center rounded-4 border-0 d-none d-sm-block",attrs:{type:"button"},on:{click:t.downloadVideo}},[e("i",{staticClass:"ri-download-2-line fs-4 fw-normal text-primary"})])])},rt=[],dt={name:"VideoItem",props:{video:{type:Object},downloadMedium:{type:Function}},data(){return{isPlaying:null,timer:null,imageUrl:null,videoUrl:null}},methods:{palyVideo(t){let e=t.target.firstChild.lastChild;e.hasAttribute("autoplay")?(e.setAttribute("autoplay","autoplay"),this.isPlaying=e.play()):this.timer=setTimeout(()=>{e.setAttribute("autoplay","autoplay"),this.isPlaying=e.play()},1500)},pauseVideo(t){let e=t.target.firstChild.lastChild;this.timer&&(clearTimeout(this.timer),this.timer=0),this.isPlaying&&this.isPlaying.then(()=>{e.paused||e.pause()})},downloadVideo(){let t=this.videoUrl,e=this.video.user.id,s=this.video.user.name.replace(" ","-"),i="photoshare-"+s+"-"+e+".mp4";this.downloadMedium(t,i)},imageUrlSize(){let t=this.video.image,e=t.substring(0,t.indexOf("h=")),s=this.videoSizeFile(),i=e+"h="+s.height+"&w="+s.width;this.imageUrl=i},videoSizeFile(){let t=this.video.video_files,e=t.sort((function(t,e){return t.width-e.width}));return e[2]},setVideoUrl(){let t=this.videoSizeFile();this.videoUrl=t.link},setVideo(){this.$emit("setMedium",this.video)},showCollectionsModal(){this.$emit("showCollectionsModal",this.video)}},mounted(){this.imageUrlSize(),this.setVideoUrl()}},ct=dt,ut=(s("8a6d"),Object(z["a"])(ct,nt,rt,!1,null,"fea7462e",null)),ht=ut.exports,mt=function(){var t=this,e=t._self._c;return e("div",[t.medium.video_files?t.medium.video_files?e("VideoModal",{attrs:{video:t.medium,showCollectionsModal:t.showCollectionsModal},on:{download:t.download}}):t._e():e("PhotoModal",{attrs:{photo:t.medium,showCollectionsModal:t.showCollectionsModal},on:{download:t.download}}),e("collectionsModal",{attrs:{medium:t.medium,photoModal:t.photoModal,addCollectionsModal:t.addCollectionsModal}}),e("addCollectionsModal",{attrs:{photo:t.medium,addCollectionsModal:t.addCollectionsModal,showCollectionsModal:t.showCollectionsModal}})],1)},pt=[],vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal full-height-modal fade",attrs:{id:"photoModal",tabindex:"-1","aria-hidden":"true"}},[e("button",{staticClass:"close-svg-icon border-0 bg-transparent position-absolute top-0 end-0 m-3 d-none d-md-block",attrs:{"data-bs-dismiss":"modal","aria-label":"Close",type:"button"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32",height:"32"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}})])]),e("div",{staticClass:"modal-dialog h-100 rounded-0 my-0 border-0 m-sm-auto m-0 min-w-md-80 min-w-100"},[e("div",{staticClass:"modal-content full-height-modal-content h-100 d-flex justify-content-between align-items-center p-4"},[e("div",{staticClass:"d-flex justify-content-md-between justify-content-center align-items-center w-100"},[e("div",{staticClass:"d-flex align-items-center"},[e("i",{staticClass:"svg-icon me-2"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50",height:"50"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zM6.023 15.416C7.491 17.606 9.695 19 12.16 19c2.464 0 4.669-1.393 6.136-3.584A8.968 8.968 0 0 0 12.16 13a8.968 8.968 0 0 0-6.137 2.416zM12 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})])]),e("span",{staticClass:"d-none d-md-block"},[t._v(t._s(t.photo.photographer))])]),e("div",{staticClass:"d-flex"},[e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 mx-3 d-flex align-items-center",attrs:{type:"button"},on:{click:t.showCollectionsModal}},[e("i",{staticClass:"svg-icon me-0 me-md-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M6 7V4a1 1 0 0 1 1-1h6.414l2 2H21a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-3v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3zm0 2H4v10h12v-2H6V9zm2-4v10h12V7h-5.414l-2-2H8z"}})])]),e("span",{staticClass:"d-none d-md-block"},[t._v("收集")])]),e("div",{staticClass:"border-0 px-0 d-flex rounded-4 overflow-hidden"},[e("button",{staticClass:"btn btn-secondary text-white border-end rounded-0 border border-0 shadow-none"},[t._v("免費下載")]),e("button",{staticClass:"btn btn-secondary rounded-0 p-1 dropdown-toggle-split border border-0 shadow-none",attrs:{id:"dropdownBtnSize",type:"button","data-bs-toggle":"dropdown","data-bs-offset":"0,10","data-bs-auto-close":"outside","aria-expanded":"false"}},[e("i",{staticClass:"download-svg-icon h-100 px-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"}})])])]),e("ul",{staticClass:"dropdown-menu dropdown-menu-end py-2",attrs:{id:"dropdownMenuSize","aria-labelledby":"dropdownBtnSize"}},[t._m(0),t._l(t.sizeArr,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"dropdown-item bg-transparent text-dark d-flex align-items-center item-active",attrs:{type:"button"},on:{click:function(e){t.currentSizeIndex=i}}},[e("span",[t._v(t._s(s.text))]),e("span",{staticClass:"text-primary ms-1 me-2"},[t._v(t._s(t.calculateSize(s.size)))]),e("i",{staticClass:"position-relative p-3"},[t.currentSizeIndex===i?e("svg",{staticClass:"position-absolute top-50 end-0 translate-middle-y",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"}})]):t._e()])])])})),e("li",{staticClass:"bg-transparent d-flex justify-content-center border-top mt-2"},[e("button",{staticClass:"btn btn-secondary text-white mt-2 rounded-4",attrs:{type:"button"},on:{click:t.downloadImage}},[t._v(" 下載選擇的收藏 ")])])],2)])]),e("button",{staticClass:"close-svg-icon-md border-0 bg-transparent position-absolute top-0 end-0 m-1 d-block d-md-none",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}})])])]),e("div",{staticClass:"position-relative h-80 w-100"},[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"w-100 h-100",staticStyle:{"object-fit":"contain"},attrs:{src:t.photo.src.original,alt:""},on:{load:function(e){t.isLoading=!1}}}),e("loading",{attrs:{active:t.isLoading,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}},[e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])],1),e("div",{staticClass:"d-flex justify-content-md-between justify-content-center align-items-center w-100"},[e("div",{staticClass:"d-flex align-items-center me-3"},[e("i",{staticClass:"svg-icon me-1"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z"}})])]),e("span",{staticClass:"text-primary fw-normal"},[t._v("免費使用")])]),e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 d-flex align-items-center",attrs:{type:"button"}},[e("i",{staticClass:"svg-icon me-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z"}})])]),e("span",[t._v("資訊")])])])])])])},gt=[function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"dropdown-item bg-transparent text-primary"},[t._v("選擇尺寸:")])])}],Ct={name:"PhotoModal",props:{photo:{Object:Object},showCollectionsModal:{type:Function}},data(){return{isLoading:!0,sizeArr:[{text:"原始尺寸",size:"original"},{text:"大",size:"large"},{text:"中",size:"medium"},{text:"小",size:"small"}],currentSizeIndex:0}},methods:{watchCloseMediumModal(){const t=document.getElementById("photoModal");t.addEventListener("hidden.bs.modal",()=>{this.toggleCheck(0)})},calculateSize(t){let e=this.photo.width,s=this.photo.height;if("original"===t)return`${e} x ${s}`;if("large"===t){if(e===s)return"1920 x 1920";{let t=e/1920,i=Math.ceil(s/t);return"1920 x "+i}}if("medium"===t){if(e===s)return"1280 x 1280";{let t=e/1280,i=Math.ceil(s/t);return"1280 x "+i}}if(e===s)return"640 x 640";{let t=e/640,i=Math.ceil(s/t);return"640 x "+i}},downloadImage(){let t=this.calculateSize(this.sizeArr[this.currentSizeIndex].size),e=t.split(" x ")[0],s=t.split(" x ")[1],i=this.photo.id,o=this.photo.photographer,a=`https://images.pexels.com/photos/${i}/pexels-photo-${i}.jpeg?auto=compress&cs=tinysrgb&fit=crop&w=${e}&h=${s}`,l=`photoshare-${o}-${i}.jpg`;this.$emit("download",a,l)}},mounted(){}},ft=Ct,bt=(s("8fc7"),Object(z["a"])(ft,vt,gt,!1,null,"1a749549",null)),wt=bt.exports,xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal full-height-modal fade",attrs:{id:"photoModal",tabindex:"-1","aria-hidden":"true"}},[e("button",{staticClass:"close-svg-icon border-0 bg-transparent position-absolute top-0 end-0 m-3 d-none d-md-block",attrs:{"data-bs-dismiss":"modal","aria-label":"Close",type:"button"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32",height:"32"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}})])]),e("div",{staticClass:"modal-dialog h-100 rounded-0 my-0 border-0 m-sm-auto m-0 min-w-md-80 min-w-100"},[e("div",{staticClass:"modal-content full-height-modal-content h-100 d-flex justify-content-between align-items-center p-4"},[e("div",{staticClass:"d-flex justify-content-md-between justify-content-center align-items-center w-100"},[e("div",{staticClass:"d-flex align-items-center"},[e("i",{staticClass:"svg-icon me-2"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50",height:"50"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zM6.023 15.416C7.491 17.606 9.695 19 12.16 19c2.464 0 4.669-1.393 6.136-3.584A8.968 8.968 0 0 0 12.16 13a8.968 8.968 0 0 0-6.137 2.416zM12 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}})])]),e("span",{staticClass:"d-none d-md-block"},[t._v(t._s(t.video.user.name))])]),e("div",{staticClass:"d-flex"},[e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 mx-3 d-flex align-items-center",attrs:{type:"button"},on:{click:t.showCollectionsModal}},[e("i",{staticClass:"svg-icon me-0 me-md-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M6 7V4a1 1 0 0 1 1-1h6.414l2 2H21a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-3v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3zm0 2H4v10h12v-2H6V9zm2-4v10h12V7h-5.414l-2-2H8z"}})])]),e("span",{staticClass:"d-none d-md-block"},[t._v("收集")])]),e("div",{staticClass:"border-0 px-0 d-flex rounded-4 overflow-hidden"},[e("button",{staticClass:"btn btn-secondary text-white border-end rounded-0 border border-0 shadow-none"},[t._v("免費下載")]),e("button",{staticClass:"btn btn-secondary rounded-0 p-1 dropdown-toggle-split border border-0 shadow-none",attrs:{id:"dropdownBtnQuality",type:"button","data-bs-toggle":"dropdown","data-bs-offset":"0,10","data-bs-auto-close":"outside","aria-expanded":"false"}},[e("i",{staticClass:"download-svg-icon h-100 px-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z"}})])])]),e("ul",{staticClass:"dropdown-menu dropdown-menu-end py-2",attrs:{id:"dropdownMenuSize","aria-labelledby":"dropdownBtnQuality"}},[t._m(0),t._l(t.videoSizeArr,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"dropdown-item bg-transparent text-dark d-flex align-items-center item-active",attrs:{type:"button"},on:{click:function(e){t.currentSizeIndex=i}}},[e("span",[t._v(t._s(s.quality))]),e("span",{staticClass:"text-primary ms-1 me-2"},[t._v(t._s(s.width)+" x "+t._s(s.height))]),e("i",{staticClass:"position-relative p-3"},[t.currentSizeIndex===i?e("svg",{staticClass:"position-absolute top-50 end-0 translate-middle-y",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M10 15.172l9.192-9.193 1.415 1.414L10 18l-6.364-6.364 1.414-1.414z"}})]):t._e()])])])})),e("li",{staticClass:"bg-transparent d-flex justify-content-center border-top mt-2"},[e("button",{staticClass:"btn btn-secondary text-white mt-2 rounded-4",attrs:{type:"button"},on:{click:t.downloadVideo}},[t._v(" 下載選擇的收藏 ")])])],2)])]),e("button",{staticClass:"close-svg-icon-md border-0 bg-transparent position-absolute top-0 end-0 m-1 d-block d-md-none",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"}})])])]),e("div",{staticClass:"h-80"},[e("video",{staticClass:"w-100 h-100",staticStyle:{"object-fit":"contain"},attrs:{controls:"",autoplay:"",loop:""}},[e("source",{attrs:{src:t.videoCoverLink,type:"video/mp4"}})])]),e("div",{staticClass:"d-flex justify-content-md-between justify-content-center align-items-center w-100"},[e("div",{staticClass:"d-flex align-items-center me-3"},[e("i",{staticClass:"svg-icon me-1"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-.997-4L6.76 11.757l1.414-1.414 2.829 2.829 5.656-5.657 1.415 1.414L11.003 16z"}})])]),e("span",{staticClass:"text-primary fw-normal"},[t._v("免費使用")])]),e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 d-flex align-items-center",attrs:{type:"button"}},[e("i",{staticClass:"svg-icon me-1 d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z"}})])]),e("span",[t._v("資訊")])])])])])])},yt=[function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"dropdown-item bg-transparent text-primary"},[t._v("選擇尺寸:")])])}],_t={name:"VideoModal",props:{video:{type:Object},showCollectionsModal:{type:Function},downloadMedium:{type:Function}},data(){return{videoSizeArr:null,videoCoverLink:null,currentSizeIndex:0}},methods:{videoSizeArrange(){let t=this.video.video_files,e=t.sort((function(t,e){return t.width-e.width}));this.videoSizeArr=e,this.videoCoverLink=e[e.length-1].link},toggleCheck(t){this.currentSizeIndex=t},downloadVideo(){let t=this.videoSizeArr[this.currentSizeIndex],e=t.link,s=this.video.user.id,i=this.video.user.name.replace(" ","-"),o="photoshare-"+i+"-"+s+".mp4";this.$emit("download",e,o)}},mounted(){this.videoSizeArrange()}},Mt=_t,Et=(s("d4e8"),Object(z["a"])(Mt,xt,yt,!1,null,"2dbd932f",null)),zt=Et.exports,St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal center-modal fade rounded-4",attrs:{id:"collectionsModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"min-width":"30%"}},[e("div",{staticClass:"modal-content rounded-4"},[e("div",{staticClass:"p-5"},[e("button",{staticClass:"btn-close position-absolute top-0 end-0 m-3",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),e("div",{staticClass:"position-relative"},[e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h5",{staticClass:"modal-title text-center",attrs:{id:"exampleModalLabel"}},[t._v("儲存置收藏")]),e("router-link",{staticClass:"fw-normal mb-4",attrs:{to:"/collections"}},[e("div",{attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.closeMediumModal}},[t._v(" 我的收藏 ")])])],1),e("div",{staticClass:"container-flulid"},[e("div",{staticClass:"d-flex flex-wrap mn-2"},[e("div",{staticClass:"col-4 position-relative p-2 fw-normal"},[e("div",{attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.showAddCollectionsModal}},[t._m(0),e("span",{staticClass:"text"},[t._v("建立新收藏")])])]),t._l(t.collections,(function(s,i){return e("div",{key:i,staticClass:"col-4 position-relative p-2 fw-normal"},[e("div",{attrs:{type:"button"}},[s.media.length?e("div",{staticClass:"item-placeholder mb-2"},[e("div",{staticClass:"item bg-secondary bg-opacity-10 d-flex justify-content-center align-items-center overflow-hidden rounded-4"},[s.media[0].video_files?s.media[0].video_files?e("img",{staticClass:"w-100 h-100",staticStyle:{"object-fit":"cover"},attrs:{src:s.media[0].image,alt:""}}):t._e():e("img",{staticClass:"w-100 h-100",staticStyle:{"object-fit":"cover"},attrs:{src:s.media[0].src.large,alt:""}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isCollected(s.media),expression:"isCollected(collection.media)"}],staticClass:"overlay rounded-4 d-flex justify-content-center align-items-center",on:{click:function(e){return t.addMedium(s)}}},[e("i",{staticClass:"image-add-icon ri-add-circle-fill fs-1"})]),t.isCollected(s.media)?e("div",{on:{click:function(e){return t.deleteMedium(s)}}},[t._m(1,!0),t._m(2,!0)]):t._e()])]):t._e(),s.media.length?t._e():e("div",{staticClass:"item-placeholder mb-2"},[e("div",{staticClass:"item bg-primary bg-opacity-10 d-flex justify-content-center align-items-center overflow-hidden rounded-4"},[e("i",{staticClass:"svg-icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"50",height:"50"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M5 11.1l2-2 5.5 5.5 3.5-3.5 3 3V5H5v6.1zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm11.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isCollected(s.media),expression:"isCollected(collection.media)"}],staticClass:"overlay rounded-4 d-flex justify-content-center align-items-center",on:{click:function(e){return t.addMedium(s)}}},[e("i",{staticClass:"image-add-icon ri-add-circle-fill fs-1"})]),t.isCollected(s.media)?e("div",{on:{click:function(e){return t.deleteMedium(s)}}},[t._m(3,!0),t._m(4,!0)]):t._e()])]),e("div",{staticClass:"text"},[t._v(t._s(s.title))])])])}))],2)]),e("loading",{attrs:{active:t.isLoading,"is-full-page":!1,opacity:1},on:{"update:active":function(e){t.isLoading=e}}},[e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])],1)])])])])},kt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-placeholder mb-2"},[e("div",{staticClass:"item bg-primary bg-opacity-10 d-flex justify-content-center align-items-center rounded-4"},[e("div",{staticClass:"overlay rounded-4 d-flex justify-content-center align-items-center"},[e("i",{staticClass:"add-icon ri-add-circle-line fs-1"})])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay-check rounded-4 d-flex justify-content-center align-items-center"},[e("i",{staticClass:"image-check-icon ri-checkbox-circle-fill fs-1"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay-delete rounded-4 d-flex justify-content-center align-items-center"},[e("i",{staticClass:"image-delete-icon ri-close-circle-fill fs-1"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay-check rounded-4 d-flex justify-content-center align-items-center"},[e("i",{staticClass:"image-check-icon ri-checkbox-circle-fill fs-1"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay-delete rounded-4 d-flex justify-content-center align-items-center"},[e("i",{staticClass:"image-delete-icon ri-close-circle-fill fs-1"})])}],Ot={name:"collectionsModal",props:{medium:{type:Object},photoModal:{type:Object},addCollectionsModal:{type:Object}},computed:{...Object(r["b"])(["collections"])},data(){return{isLoading:!0}},methods:{showAddCollectionsModal(){this.addCollectionsModal.show();let t=document.getElementById("addCollectionsModal"),e=document.querySelectorAll(".modal-backdrop"),s=Array.prototype.slice.call(e).slice(-1)[0];t.style.zIndex=1065,s.style.zIndex=1060},async addMedium(t){let e=t.id,s=t.media;s.unshift(this.medium),await f(e,s)},async deleteMedium(t){let e=t.id,s=t.media,i=this.medium;for(let o=0;o<s.length;o++)i.id===s[o].id&&s.splice(o,1);await f(e,s)},closeMediumModal(){this.photoModal.hide()},isCollected(t){let e=this.medium;for(let s=0;s<t.length;s++)if(e.id===t[s].id)return!0;return!1}},watch:{collections(){this.isLoading=!1}},mounted(){this.$store.dispatch("getCollections")}},Lt=Ot,jt=(s("90f1"),Object(z["a"])(Lt,St,kt,!1,null,"4b680c8c",null)),Rt=jt.exports,Vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal center-modal fade rounded-4",attrs:{id:"addCollectionsModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable",staticStyle:{"min-width":"30%"}},[e("div",{staticClass:"modal-content rounded-4"},[e("div",{staticClass:"p-5"},[t._m(0),e("button",{staticClass:"btn-close position-absolute top-0 end-0 m-3",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),e("form",{staticClass:"needs-validation",attrs:{target:"stop-reload"}},[e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"collectionTitleAdd"}},[t._v("收藏標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.collectionTitleAdd,expression:"collectionTitleAdd"}],staticClass:"form-control shadow-none",attrs:{type:"text",id:"collectionTitleAdd",required:""},domProps:{value:t.collectionTitleAdd},on:{input:function(e){e.target.composing||(t.collectionTitleAdd=e.target.value)}}})]),e("div",{staticClass:"gap-3 d-flex justify-content-end"},[e("button",{staticClass:"btn btn-secondary text-white me-md-2",attrs:{type:"submit"},on:{click:t.addCollection}},[t._v(" 建立收藏 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.showCollectionsModal}},[t._v(" 返回 ")])])]),e("iframe",{staticStyle:{display:"none"},attrs:{name:"stop-reload"}})])])])])},It=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h5",{staticClass:"modal-title text-center mb-4",attrs:{id:"exampleModalLabel"}},[t._v("新增收藏")])])}],Tt={name:"addCollectionsModal",props:{photo:{type:Object},addCollectionsModal:{type:Object},showCollectionsModal:{type:Function}},data(){return{collectionTitleAdd:null}},methods:{async addCollection(){if(this.collectionTitleAdd){let t={id:"",title:this.collectionTitleAdd,description:"",media:[this.photo]};await b(t),this.$store.dispatch("getCollections"),this.addCollectionsModal.hide(),this.showCollectionsModal(),this.collectionTitleAdd=null}}}},Pt=Tt,Ht=Object(z["a"])(Pt,Vt,It,!1,null,null,null),At=Ht.exports,Bt={name:"PhotosModal",props:{medium:{type:Object},downloadMedium:{type:Function}},components:{PhotoModal:wt,VideoModal:zt,collectionsModal:Rt,addCollectionsModal:At},data(){return{photoModal:null,collectionsModal:null,addCollectionsModal:null}},methods:{modalObject(){this.photoModal=new Q["b"](document.getElementById("photoModal")),this.collectionsModal=new Q["b"](document.getElementById("collectionsModal")),this.addCollectionsModal=new Q["b"](document.getElementById("addCollectionsModal"))},closeMediumModal(){this.photoModal.hide()},watchCloseMediumModal(){const t=document.getElementById("photoModal");t.addEventListener("hidden.bs.modal",()=>{this.$emit("goClearMedium")});const e=document.getElementById("collectionsModal");e.addEventListener("hidden.bs.modal",()=>{const e=t.style.display,i=s.style.display;e||i||this.$emit("goClearMedium")});const s=document.getElementById("addCollectionsModal");s.addEventListener("hidden.bs.modal",()=>{const s=t.style.display,i="none"!==e.style.display;s||i||this.$emit("goClearMedium")})},closeDropdownMenuSize(){let t=document.getElementById("dropdownMenuSize");t.classList.remove("show")},showCollectionsModal(){this.collectionsModal.show();let t=document.getElementById("collectionsModal"),e=document.querySelectorAll(".modal-backdrop"),s=Array.prototype.slice.call(e).slice(-1)[0];t.style.zIndex=1065,s.style.zIndex=1060},download(t,e){this.downloadMedium(t,e),this.closeDropdownMenuSize()}},mounted(){this.modalObject(),this.watchCloseMediumModal()}},$t=Bt,Ft=(s("b579"),Object(z["a"])($t,mt,pt,!1,null,"b7ad0454",null)),Dt=Ft.exports,Nt={name:"MediaList",components:{MediaModal:Dt,Toast:X,PhotoItem:lt,VideoItem:ht},computed:{...Object(r["b"])(["newMedia","totalResult"]),isCollection(){return this.$route.path.includes("collections")}},data(){return{medium:null,media:[],loading:!1,busy:!1,oldMediaLength:0,noMore:!1}},methods:{showToast(){this.$refs.toast.showToast()},masonryImages(){let t=document.querySelector(".grid");tt()(t,()=>{new K.a(t,{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0,transitionDuration:".2s"}),this.handleGridItemClass(),this.busy=!1})},downloadMedium(t,e){c.a.get(t,{responseType:"blob"}).then(t=>{const s=window.URL.createObjectURL(t.data),i=document.createElement("a");document.body.appendChild(i),i.href=s,i.download=e,i.click(),i.remove(),URL.revokeObjectURL(t.data),this.showToast()})},updateMedium(t){this.medium=t,this.$nextTick(()=>{this.$refs.modal.photoModal.show()})},clearMedium(){this.medium=null},showCollectionsModal(t){this.medium=t,this.$nextTick(()=>{this.$refs.modal.collectionsModal.show()})},loadMore(){this.media.length!==this.totalResult?(this.busy=!0,this.$emit("getMedia")):setTimeout(()=>{this.noMore=!0},300)},handleGridItemClass(){let t=Array.from(document.querySelectorAll(".grid-item")),e=t.length,s=this.oldMediaLength,i=t.slice(s-e);for(let a=0;a<i.length;a++)i[a].classList.add("animate__animated","animate__slideInUp","animate__faster"),i[a].style.visibility="visible",i[a].addEventListener("animationend",o);function o(){for(let t=0;t<i.length;t++)i[t].classList.remove("animate__animated","animate__slideInUp","animate__faster"),i[t].removeEventListener("animationend",o)}this.oldMediaLength=e}},watch:{newMedia:{handler(){setTimeout(()=>{this.media.push.apply(this.media,this.newMedia),this.$nextTick(()=>{let t=Array.from(document.querySelectorAll(".grid-item")),e=t.length,s=this.oldMediaLength,i=t.slice(s-e);for(let o=0;o<i.length;o++)i[o].style.visibility="hidden";this.masonryImages()})},500)}}}},Ut=Nt,qt=(s("ee33"),Object(z["a"])(Ut,D,N,!1,null,"0c68d35b",null)),Qt=qt.exports,Jt={name:"Home",computed:{...Object(r["b"])(["photoCover"])},data(){return{page:0}},components:{MediaList:Qt},methods:{getPhotoCover(){let t=Math.floor(3*Math.random()+1);this.$store.dispatch("getPhotoCover",t)},getMedia(){this.page++,this.$store.dispatch("getFeaturedPhotos",{page:this.page})}},mounted(){this.getPhotoCover()}},Gt=Jt,Wt=(s("63b0"),Object(z["a"])(Gt,$,F,!1,null,"20ec0953",null)),Xt=Wt.exports,Zt=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"position-relative"},[e("div",{staticClass:"header-video"},[e("video",{attrs:{src:t.videoCover.url,autoplay:"",muted:"",loop:""},domProps:{muted:!0}})]),t._m(0),e("div",{staticClass:"position-absolute bottom-0 end-0 px-3 px-lg-5"},[e("p",{staticClass:"text-white opacity-75"},[e("span",[t._v("攝影師:")]),e("span",{staticClass:"ms-2"},[t._v(t._s(t.videoCover.photographer))])])])]),e("main",{staticClass:"px-3 px-lg-5"},[e("ul",{staticClass:"nav d-flex justify-content-center align-items-center my-4 my-lg-5"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/photos"}},[e("button",{staticClass:"btn border-0 text-primary shadow-none fw-bold fs-4 px-3",attrs:{type:"button"}},[t._v(" 相片 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link fs-4",attrs:{to:"/videos"}},[e("button",{staticClass:"btn btn-secondary text-white border-0 shadow-none rounded-4 fw-bold fs-4 px-3",attrs:{type:"button"}},[t._v(" 影片 ")])])],1)]),e("p",{staticClass:"mb-4 mb-lg-5 fs-4"},[t._v("免費圖庫相片")]),e("MediaList",{on:{getMedia:t.getMedia}})],1)])},Kt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-absolute top-50 start-50 translate-middle d-flex flex-column align-items-center text-white text-nowrap"},[e("h1",[t._v("提供免費的照片及影片")]),e("h2",[t._v("創作者分享的最優質圖庫")])])}],Yt={name:"Videos",computed:{...Object(r["b"])(["videoCover"])},data(){return{page:0}},components:{MediaList:Qt},methods:{getVideoCover(){let t=Math.floor(3*Math.random()+1);this.$store.dispatch("getVideoCover",t)},getMedia(){this.page++,this.$store.dispatch("getFeaturedVideos",{page:this.page})}},mounted(){this.getVideoCover()}},te=Yt,ee=(s("500a"),Object(z["a"])(te,Zt,Kt,!1,null,"bac577e6",null)),se=ee.exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid px-3 px-lg-5 pt-7"},[e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h1",{},[t._v("與「"+t._s(t.searchQuery)+"」相關的"+t._s(t.isPhoto?"照片":"影片"))]),e("h5",{staticClass:"mt-3",class:{"opacity-0":t.showTotalResult}},[t._v("找到"+t._s(t.totalResult)+"個搜尋結果")]),e("ul",{staticClass:"nav position-relative d-flex justify-content-center w-100"},[e("div",{staticClass:"d-flex justify-content-center col-12 my-4 my-lg-5"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{path:"/search/"+t.searchQuery}}},[e("button",{staticClass:"btn border-0 shadow-none rounded-4 fw-bold fs-4 px-3",class:t.photoBtnClass,attrs:{type:"button"}},[t._v(" 相片 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link fs-4",attrs:{to:{path:"/search/video/"+t.searchQuery}}},[e("button",{staticClass:"btn border-0 shadow-none rounded-4 fw-bold fs-4 px-3",class:t.videoBtnClass,attrs:{type:"button"}},[t._v(" 影片 ")])])],1)]),e("li",{staticClass:"nav-item position-lg-absolute d-flex align-items-center end-0 w-100 w-lg-auto h-100 mb-4"},[e("button",{staticClass:"border border-1 text-primary rounded-4 w-100 px-3 py-2 d-flex align-items-center",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":".multi-collapse","aria-expanded":"false","aria-controls":"directionCollapse sizeCollapse colorCollapse"}},[e("i",{staticClass:"svg-icon d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0H24V24H0z"}}),e("path",{attrs:{d:"M21 4v2h-1l-5 7.5V22H9v-8.5L4 6H3V4h18zM6.404 6L11 12.894V20h2v-7.106L17.596 6H6.404z"}})])]),e("span",{staticClass:"ps-1"},[t._v("篩選")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4 col-12"},[e("div",{staticClass:"collapse multi-collapse",attrs:{id:"directionCollapse"}},[e("div",{staticClass:"dropdown pb-4"},[e("button",{staticClass:"bg-transparent border border-1 text-primary rounded-4 text-start w-100 py-2 px-4",attrs:{type:"button",id:"directionCollapseButton","data-bs-toggle":"dropdown","data-bs-offset":"0,10","aria-expanded":"false"}},[t._v(" "+t._s(t.currentDirection.text)+" ")]),e("ul",{staticClass:"dropdown-menu w-100 rounded-4",attrs:{"aria-labelledby":"directionCollapseButton"}},t._l(t.directions,(function(s,i){return e("li",{key:i},[e("button",{staticClass:"bg-transparent border-0 text-primary text-start w-100 py-2 px-4",on:{click:function(e){return t.searchDirection(s)}}},[t._v(" "+t._s(s.text)+" ")])])})),0)])])]),e("div",{staticClass:"col-lg-4 col-12"},[e("div",{staticClass:"collapse multi-collapse",attrs:{id:"sizeCollapse"}},[e("div",{staticClass:"dropdown pb-4"},[e("button",{staticClass:"bg-transparent border border-1 text-primary rounded-4 text-start w-100 py-2 px-4",attrs:{type:"button",id:"sizeCollapseButton","data-bs-toggle":"dropdown","data-bs-offset":"0,10","aria-expanded":"false"}},[t._v(" "+t._s(t.currnetSize.text)+" ")]),e("ul",{staticClass:"dropdown-menu w-100 rounded-4",attrs:{"aria-labelledby":"sizeCollapseButton"}},t._l(t.sizes,(function(s,i){return e("li",{key:i},[e("button",{staticClass:"bg-transparent border-0 text-primary text-start w-100 py-2 px-4",on:{click:function(e){return t.searchSize(s)}}},[t._v(" "+t._s(s.text)+" ")])])})),0)])])]),e("div",{staticClass:"col-lg-4 col-12"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isPhoto,expression:"isPhoto"}],staticClass:"color-collapse collapse multi-collapse",attrs:{id:"colorCollapse"}},[e("div",{staticClass:"dropdown pb-4"},[e("div",{staticClass:"d-flex align-items-center border border-1 rounded-4 ps-4 p-2",attrs:{id:"colorCollapseButton","data-bs-toggle":"dropdown","data-bs-offset":"0,10","aria-expanded":"false"}},[e("div",{staticClass:"color-show me-2 rounded-circle",style:{backgroundColor:t.hexBgColor}}),e("span",{staticClass:"text-primary me-1"},[t._v("#")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor,expression:"currentColor"}],staticClass:"color-input bg-transparent border-0 text-primary rounded-4 text-start w-100",attrs:{type:"text",placeholder:"輸入 HEX 色碼",maxlength:"6"},domProps:{value:t.currentColor},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchColor(e,"")},input:function(e){e.target.composing||(t.currentColor=e.target.value)}}}),e("div",{staticClass:"dropdown-menu w-100 rounded-4",attrs:{"aria-labelledby":"colorCollapseButton"}},[e("ul",{staticClass:"dropdown-color-menu d-flex flex-wrap px-4 my-3 w-100"},t._l(t.colors,(function(s,i){return e("li",{key:i,staticClass:"col-2",style:{"background-color":s},on:{click:function(e){return t.searchColor(e,s)}}})})),0)])])])])])]),e("MediaList",{ref:"mediaList",on:{getMedia:t.getMedia}})],1)},oe=[],ae={name:"Search",components:{MediaList:Qt},computed:{...Object(r["b"])(["totalResult"]),searchQuery(){return this.$route.params.query},isPhoto(){return!this.$route.path.includes("video")},photoBtnClass(){return this.isPhoto?"btn-secondary text-white":"text-primary"},videoBtnClass(){return this.isPhoto?"text-primary":"btn-secondary text-white"},showTotalResult(){return""===this.totalResult}},data(){return{page:0,filterCondition:{orientation:"",size:"",color:""},currentDirection:{text:"所有方向",value:"allDirection"},directions:[{text:"所有方向",value:"allDirection"},{text:"橫向",value:"landscape"},{text:"縱向",value:"portrait"},{text:"正方形",value:"square"}],currnetSize:{text:"所有尺寸",value:"allSize"},sizes:[{text:"所有尺寸",value:"allSize"},{text:"大",value:"large"},{text:"中",value:"medium"},{text:"小",value:"small"}],currentColor:"",oldColor:"",colors:["#CCF3FC","#D7B9FC","#F0CED1","#F9E7CB","#E0E9CA","#FFFFFF","#23C5EB","#7311EB","#CF3643","#EA9B20","#99C03A","#959595","#00586D","#2A005D","#61030C","#6A4000","#3D5309","#161616"],hexBgColor:""}},methods:{searchDirection(t){this.currentDirection.value!==t.value&&(this.currentDirection=t,"所有方向"===t.text?this.filterCondition.orientation="":this.filterCondition.orientation=t.value,this.reload())},searchSize(t){this.currnetSize.value!==t.value&&(this.currnetSize=t,"所有尺寸"===t.text?this.filterCondition.size="":this.filterCondition.size=t.value,this.reload())},searchColor(t,e){if(e)this.currentColor=e.replace("#","");else{const s=new Q["a"](t.target);s.hide(),e="#"+t.target.value}this.oldColor!==e&&this.isHex()&&(this.oldColor=e,this.filterCondition.color=e.replace("#",""),this.reload())},getMedia(){this.page++,this.isPhoto?this.getSearchPhotos():this.getSearchVideos()},isHex(){let t="#"+this.currentColor;const e=document.createElement("div");document.body.appendChild(e),e.style.backgroundColor=t;const s=e.style.backgroundColor;return e.remove(),s},getSearchPhotos(){this.$store.dispatch("getSearchPhotos",{page:this.page,query:this.searchQuery,orientation:this.filterCondition.orientation,size:this.filterCondition.size,color:this.filterCondition.color})},getSearchVideos(){this.$store.dispatch("getSearchVideos",{page:this.page,query:this.searchQuery,orientation:this.filterCondition.orientation,size:this.filterCondition.size})},reload(){this.page=0,this.$refs.mediaList.media=[],this.$refs.mediaList.oldMediaLength=0;let t=document.querySelector(".grid");t.style.height=0,this.$refs.mediaList.noMore=!1,this.$store.dispatch("setTotalResult",""),this.$refs.mediaList.loadMore()}},watch:{currentColor(){this.isHex()?this.hexBgColor="#"+this.currentColor:this.hexBgColor=""},isPhoto(){this.reload()},searchQuery(){this.reload()}},mounted(){}},le=ae,ne=(s("dab2"),Object(z["a"])(le,ie,oe,!1,null,null,null)),re=ne.exports,de=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"container-fluid px-3 px-lg-5 pt-7"},[e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h1",{},[t._v("我的收藏")]),e("span",{staticClass:"w-100 fs-3 py-5 mb-5 border-bottom text-center"},[t._v("項目 "+t._s(t.collections.length))])]),e("div",{staticClass:"thumbnail-list d-flex flex-wrap mn-xl-3 mn-2"},t._l(t.collections,(function(s,i){return e("div",{key:i,staticClass:"collection-container col-xxl-3 col-lg-4 col-sm-6 col-12 p-xl-3 p-2 mb-3"},[e("router-link",{attrs:{to:{path:"collections/"+s.id}}},[e("div",{staticClass:"collection-placeholder"},[e("ul",{staticClass:"collection-grid-container overflow-hidden rounded-4",class:t.gridLayout(s.media)},t._l(s.media.slice(0,3),(function(i,o){return e("li",{key:o,staticClass:"collection-image overflow-hidden",class:t.gridSpace(s.media.slice(0,3),o)},[i.video_files?i.video_files?e("img",{staticClass:"h-100 w-100",staticStyle:{"object-fit":"cover"},attrs:{src:i.image,alt:""}}):t._e():e("img",{staticClass:"h-100 w-100",staticStyle:{"object-fit":"cover"},attrs:{src:i.src.large,alt:""}}),e("div",{staticClass:"overlay bg-dark"})])})),0)]),e("div",{staticClass:"collection-details d-flex justify-content-between align-items-center fs-5 fw-normal mt-2"},[e("div",{staticClass:"name"},[t._v(t._s(s.title))]),e("div",{staticClass:"number d-flex align-items-center"},[e("span",{staticClass:"me-2"},[t._v(t._s(s.media.length))]),e("i",{staticClass:"ri-image-2-fill fs-4"})])])])],1)})),0),0===t.collections.length?e("p",[t._v("目前尚未收藏任何相片及影片。")]):t._e()]),e("loading",{attrs:{active:t.isLoading,opacity:1,"z-index":0},on:{"update:active":function(e){t.isLoading=e}}},[e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])],1)},ce=[],ue={name:"Collections",computed:{...Object(r["b"])(["collections"])},data(){return{isLoading:!0}},methods:{gridLayout(t){let e=t.length;if(e>=3)return"collection-grid-container-rows"},gridSpace(t,e){let s=t.length;return 1==s?"collection-image-full-width":3==s&&0===e?"collection-image-full-height":void 0}},watch:{collections(){this.isLoading=!1}},mounted(){this.$store.dispatch("getCollections")}},he=ue,me=(s("88dc"),Object(z["a"])(he,de,ce,!1,null,"5c58ab7c",null)),pe=me.exports,ve=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"container-fluid px-3 px-lg-5 pt-7"},[e("div",{staticClass:"mb-5"},[e("div",{staticClass:"position-relative d-flex flex-wrap justify-content-center w-100"},[e("p",{staticClass:"title col-12 text-center mb-lg-0 mb-4 fs-1"},[t._v(t._s(t.collection.title))]),t.isPexel?t._e():e("div",{staticClass:"position-lg-absolute d-flex justify-content-center align-items-center end-0 w-100 w-lg-auto h-100"},[e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 me-3 d-flex align-items-center",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#eidtCollectionModal"}},[e("i",{staticClass:"svg-icon d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M6.414 16L16.556 5.858l-1.414-1.414L5 14.586V16h1.414zm.829 2H3v-4.243L14.435 2.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 18zM3 20h18v2H3v-2z"}})])]),e("span",{staticClass:"ps-1"},[t._v("編輯")])]),e("button",{staticClass:"border border-1 text-primary rounded-4 px-3 py-2 d-flex align-items-center",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#deleteCollectionModal"}},[e("i",{staticClass:"svg-icon d-flex align-items-center"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e("path",{attrs:{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-9 3h2v6H9v-6zm4 0h2v6h-2v-6zM9 4v2h6V4H9z"}})])]),e("span",{staticClass:"ps-1"},[t._v("刪除")])])])]),e("p",{staticClass:"text-center mt-3 fs-5"},[t._v(t._s(t.collection.description))])]),e("eidtCollectionModal",{attrs:{collection:t.collection}}),e("deleteCollectionModal",{attrs:{collection:t.collection}}),e("MediaList",{ref:"mediaList",on:{getMedia:t.getMedia}})],1),e("loading",{attrs:{active:t.isLoading,"z-index":0,opacity:1},on:{"update:active":function(e){t.isLoading=e}}},[e("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}})])],1)},ge=[],Ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal center-modal fade rounded-4",attrs:{id:"eidtCollectionModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable",staticStyle:{"min-width":"30%"}},[e("div",{staticClass:"modal-content rounded-4"},[e("div",{staticClass:"p-5"},[t._m(0),e("button",{staticClass:"btn-close position-absolute top-0 end-0 m-3",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),e("form",{staticClass:"needs-validation"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"collectionTitle"}},[t._v("標題")]),e("input",{staticClass:"form-control shadow-none",attrs:{type:"text",id:"collectionTitle",required:""},domProps:{value:t.collection.title}})]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"descriptionTextarea"}},[t._v("說明")]),e("textarea",{staticClass:"form-control shadow-none",attrs:{id:"descriptionTextarea",rows:"3"},domProps:{value:t.collection.description}})]),e("div",{staticClass:"gap-3 d-flex justify-content-end"},[e("button",{staticClass:"btn btn-secondary text-white me-md-2",attrs:{type:"submit"},on:{click:t.editCollection}},[t._v("更新收藏")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t._v("關閉收藏")])])])])])])])},fe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h5",{staticClass:"modal-title text-center mb-4",attrs:{id:"exampleModalLabel"}},[t._v("編輯收藏")])])}],be={name:"eidtCollectionsModal",props:{collection:{Object:Object}},data(){return{eidtCollectionModal:null}},methods:{modalObject(){this.eidtCollectionModal=new Q["b"](document.getElementById("eidtCollectionModal"))},async editCollection(){let t=this.collection.id,e=document.getElementById("collectionTitle").value,s=document.getElementById("descriptionTextarea").value;if(e){let i=await w(t,e,s);this.$store.dispatch("setColletion",i),this.eidtCollectionModal.hide()}}},mounted(){this.modalObject()}},we=be,xe=Object(z["a"])(we,Ce,fe,!1,null,null,null),ye=xe.exports,_e=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal center-modal fade rounded-4",attrs:{id:"deleteCollectionModal",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-sm modal-dialog-scrollable"},[e("div",{staticClass:"modal-content rounded-4"},[e("div",{staticClass:"p-5"},[t._m(0),e("button",{staticClass:"btn-close position-absolute top-0 end-0 m-3",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}}),e("div",{staticClass:"gap-3 d-flex justify-content-center"},[e("button",{staticClass:"btn btn-secondary text-white me-md-2",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:t.deleteCollection}},[t._v(" 確定 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t._v("取消")])])])])])])},Me=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column align-items-center"},[e("h5",{staticClass:"modal-title text-center mb-4"},[t._v("確定要刪除收藏嗎?")])])}],Ee={name:"deleteCollectionModal",props:{collection:{Object:Object}},methods:{deleteCollection(){C(this.collection.id),this.$router.replace("/collections")}}},ze=Ee,Se=Object(z["a"])(ze,_e,Me,!1,null,null,null),ke=Se.exports,Oe={name:"Collection",components:{MediaList:Qt,eidtCollectionModal:ye,deleteCollectionModal:ke},computed:{...Object(r["b"])(["collection","featuredCollections"]),isPexel(){return this.$route.params.collectionName.length>=7},id(){return this.$route.params.collectionName}},data(){return{isLoading:!0,page:0}},methods:{getMedia(){if(this.page++,this.isPexel){let t=this.featuredCollections;for(let e=0;e<t.length;e++)t[e].id===this.id&&this.$store.dispatch("setColletion",t[e]);this.$store.dispatch("getCollectionPexel",{id:this.id,page:this.page})}else this.$store.dispatch("getCollectionJsonSever",this.id)},reload(){this.page=0,this.$refs.mediaList.media=[];let t=document.querySelector(".grid");t.style.height=0,this.$refs.mediaList.noMore=!1,this.$store.dispatch("setTotalResult",""),this.$refs.mediaList.loadMore()}},watch:{collection(t){t.title&&(this.isLoading=!1)},id(){this.reload()}}},Le=Oe,je=(s("0d2b"),Object(z["a"])(Le,ve,ge,!1,null,"14c91918",null)),Re=je.exports;i["a"].use(B["a"]);var Ve=new B["a"]({routes:[{path:"/",redirect:"/photos"},{path:"/photos",component:Xt},{path:"/videos",component:se},{path:"/search/:query",component:re},{path:"/search/video/:query",component:re},{path:"/collections",component:pe},{path:"/collections/:collectionName",component:Re}]});function Ie(t="",e={}){return new Promise((s,i)=>{let o="";Object.keys(e).forEach(t=>{e[t]&&(o+=t+"="+e[t]+"&")}),""!==o&&(o=o.substring(0,o.lastIndexOf("&")),t=t+"?"+o),c()({method:"get",url:t,headers:{Authorization:"563492ad6f917000010000013c632f2578244bb3a86a6da7c961215c"}}).then(t=>{s(t.data)}).catch(t=>{i(t)})})}const Te="https://api.pexels.com",Pe=t=>Ie(Te+"/v1/curated",t),He=t=>Ie(Te+"/videos/popular",t),Ae=({page:t,query:e,orientation:s,size:i,color:o})=>Ie(Te+"/v1/search",{page:t,query:e,orientation:s,size:i,color:o}),Be=({page:t,query:e,orientation:s,size:i})=>Ie(Te+"/videos/search",{page:t,query:e,orientation:s,size:i}),$e=({id:t,page:e})=>Ie(Te+"/v1/collections/"+t,{page:e}),Fe=({page:t,per_page:e})=>Ie(Te+"/v1/collections/featured",{page:t,per_page:e});var De={async getFeaturedPhotos(t,e){const s=await Pe(e);t.commit("RECEIVE_FEARTUREDPHOTOS",s)},async getFeaturedVideos(t,e){const s=await He(e);t.commit("RECEIVE_FEARTUREDVIDEOS",s)},async getFeaturedCollections(t,e){const s=await Fe(e),i=s.collections;t.commit("RECEIVE_FEATUREDCOLLECTIONS",i)},async getSearchPhotos(t,e){const s=await Ae(e);t.commit("RECEIVE_SEARCHPHOTOS",s)},async getSearchVideos(t,e){const s=await Be(e);t.commit("RECEIVE_SEARCHVIDEOS",s)},async getCollectionPexel(t,e){const s=await $e(e);t.commit("RECEIVE_COLLECTION_PEXEL",s)},async getCollections(t,e){const s=await m(e);t.commit("RECEIVE_COLLECTIONS",s)},async getCollectionJsonSever(t,e){const s=await p(e);t.commit("RECEIVE_COLLECTION_JSONSERVER",s)},async getSearchRecords(t,e){const s=await x(e);t.commit("RECEIVE_SEARCHRECORDS",s)},async getPhotoCover(t,e){const s=await v(e);t.commit("RECEIVE_PHOTOCOVER",s)},async getVideoCover(t,e){const s=await g(e);t.commit("RECEIVE_VIDEOCOVER",s)},setColletion(t,e){t.commit("NEW_COLLECTION",e)},setMedium(t,e){t.commit("SET_MEDIUM",e)},setTotalResult(t,e){t.commit("SET_TOTALRESULT",e)}},Ne={RECEIVE_FEARTUREDPHOTOS(t,e){t.newMedia=e.photos,t.page=e.page,t.totalResult=e.total_results},RECEIVE_FEARTUREDVIDEOS(t,e){t.newMedia=e.videos,t.page=e.page,t.totalResult=e.total_results},RECEIVE_SEARCHPHOTOS(t,e){t.newMedia=e.photos,t.page=e.page,t.totalResult=e.total_results},RECEIVE_SEARCHVIDEOS(t,e){t.newMedia=e.videos,t.page=e.page,t.totalResult=e.total_results},RECEIVE_FEATUREDCOLLECTIONS(t,e){t.featuredCollections=e},RECEIVE_COLLECTION_PEXEL(t,e){t.newMedia=e.media,t.totalResult=e.total_results},RECEIVE_COLLECTIONS(t,e){t.collections=e},RECEIVE_COLLECTION_JSONSERVER(t,e){t.collection=e,t.newMedia=e.media,t.totalResult=e.media.length},RECEIVE_SEARCHRECORDS(t,e){t.searchRecords=e},RECEIVE_PHOTOCOVER(t,e){t.photoCover=e},RECEIVE_VIDEOCOVER(t,e){t.videoCover=e},NEW_COLLECTION(t,e){t.collection=e},SET_MEDIUM(t,e){t.medium=e},SET_TOTALRESULT(t,e){t.totalResult=e}},Ue={page:"",totalResult:"",newMedia:[],medium:{},collections:[],collection:{},searchValue:"",searchRecords:[],featuredCollections:[],photoCover:"",videoCover:""};i["a"].use(r["a"]);var qe=new r["a"].Store({actions:De,mutations:Ne,state:Ue}),Qe=s("9062"),Je=s.n(Qe),Ge=(s("e40d"),s("487a")),We=s.n(Ge);i["a"].use(We.a),i["a"].config.productionTip=!1,i["a"].component("loading",Je.a),Ve.afterEach(()=>{window.scrollTo(0,0)}),new i["a"]({store:qe,router:Ve,render:t=>t(A)}).$mount("#app")},"63b0":function(t,e,s){"use strict";s("b3f3")},7239:function(t,e,s){},"776e":function(t,e,s){},"7ee6":function(t,e,s){},"88dc":function(t,e,s){"use strict";s("0aee")},"8a6d":function(t,e,s){"use strict";s("3c0a")},"8fc7":function(t,e,s){"use strict";s("7239")},"90f1":function(t,e,s){"use strict";s("f5bb")},add7:function(t,e,s){},b34a:function(t,e,s){"use strict";s("ca7c")},b3f3:function(t,e,s){},b454:function(t,e,s){},b579:function(t,e,s){"use strict";s("27fc")},c855:function(t,e,s){"use strict";s("3c3d")},ca7c:function(t,e,s){},d4e8:function(t,e,s){"use strict";s("b454")},dab2:function(t,e,s){"use strict";s("7ee6")},ee33:function(t,e,s){"use strict";s("add7")},f5bb:function(t,e,s){}});
//# sourceMappingURL=app.5e39a1f8.js.map